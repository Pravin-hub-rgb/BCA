<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Android Programming Lab</title>
    <link rel="icon" href="../../../public/logo/favicon_io/favicon.ico">
    <link rel="stylesheet" href="../../../public/style.css">
    <link rel="stylesheet" id="highlightStylesheet"
        href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/tomorrow-night-blue.min.css">
    <style>
        .copy-btn {
            position: absolute;
            top: 10px; /* Positioning inside the <pre> element */
            right: 10px; /* Adjust to align with the right edge */
            background-color: #5DE063; /* Button background color */
            border: none;
            padding: 5px 10px; /* Button padding */
            cursor: pointer;
            border-radius: 5px; /* Rounded corners */
            z-index: 10; /* Ensure the button is above other elements */
        }

        .code,
        .npanel {
            position: relative; /* Ensure that the button positions relative to these elements */
            margin-bottom: 20px; 
        }

        .copy-btn:hover {
            background-color: #4CAF50; /* Darker green on hover */
        }
    </style>
</head>

<body>
    <div id="navbar" class="grad">
        <div class="back">
            <a href="../../../index.html"><img src="../../../public/back.svg" alt=""></a>
        </div>
        <div>
            <h2>Android Programming Lab</h2>
        </div>
    </div>
    <div class="content-box">

        <div class="code">
            <div class="dotc"></div>
            <button class="ac">..</button>
            <div class="panel">
                <pre>
                    <code>
                        // Your code here 1
                    </code>
                </pre>
            </div>
        </div>

        <div class="code">
            <div class="dotc"></div>
            <pre>
                <code>
                    // Your code here 2
                </code>
            </pre>
        </div>

        <div class="npanel">
            <pre>
                <code>
Try to copy this....
                </code>
            </pre>
        </div>

        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
        <!-- <script src="../../../public/main.js"></script> -->
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Function to create and insert copy buttons
                function addCopyButtons() {
                    // Select all relevant pre/code elements
                    const codeBlocks = document.querySelectorAll('.panel pre code, .code > pre code, .npanel pre code');

                    codeBlocks.forEach(codeBlock => {
                        // Create the copy button
                        const copyButton = document.createElement('button');
                        copyButton.className = 'copy-btn'; // Add class for styling
                        copyButton.textContent = 'Copy Code'; // Set button text
                        copyButton.onclick = function () {
                            copyCode(copyButton, codeBlock); // Pass button and code block
                        };

                        // Get the parent <pre> element
                        const preElement = codeBlock.parentElement; // This is the <pre> tag

                        // Set the button position
                        preElement.style.position = 'relative'; // Ensure positioning context

                        // Insert the button into the parent <pre> element
                        preElement.appendChild(copyButton);
                    });
                }

                function copyCode(button, codeBlock) {
                    // Create a temporary textarea element to hold the code for copying
                    const textarea = document.createElement('textarea');
                    textarea.value = codeBlock.innerText; // Get the text inside <code>
                    document.body.appendChild(textarea);
                    textarea.select(); // Select the text
                    document.execCommand('copy'); // Copy the text to clipboard
                    document.body.removeChild(textarea); // Remove the textarea

                    // Change the button text to "Copied"
                    button.textContent = 'Copied';

                    // Change the button text back to "Copy Code" after 2 seconds
                    setTimeout(() => {
                        button.textContent = 'Copy Code';
                    }, 2000);
                }

                // Add buttons after DOM content is loaded
                addCopyButtons();
            });
        </script>

</body>

</html>
